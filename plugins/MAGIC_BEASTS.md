# Magic Beast Shadow Class System

## Overview
Based on Solo Leveling lore, magic beasts are actual monsters (not humanoid) that can only be extracted from dungeon enemies. They have unique stat distributions and cannot be obtained from regular message-based extractions.

---

## Extraction Rules

### **Dungeon-Only Extraction**
- ✅ Can extract from dungeon mobs
- ✅ Can extract from dungeon bosses
- ❌ CANNOT extract from messages
- ❌ CANNOT extract outside dungeons

### **Probability**
```
When extracting from dungeon enemy:
  - 40% chance: Magic Beast
  - 60% chance: Humanoid shadow

When extracting from message:
  - 0% chance: Magic Beast
  - 100% chance: Humanoid shadow
```

---

## Magic Beast Types

### 1. ANT
**Type:** Insect Beast  
**Description:** High numbers, coordinated attacks, swarm tactics

**Stat Weights:**
- Strength: 1.1x (STRONG - powerful mandibles)
- Agility: 1.2x (VERY STRONG - fast insect)
- Intelligence: 0.4x (WEAK - instinct-driven)
- Vitality: 0.9x (Above average - exoskeleton)
- Luck: 0.5x (WEAK)

**Buffs:** +12% STR, +12% AGI  
**Effect:** Swarm Tactics (attack coordination)

**Best Use:** Fast attackers, mob clearing

---

### 2. BEAR
**Type:** Beast  
**Description:** Raw power and endurance, berserker rage

**Stat Weights:**
- Strength: 1.6x (EXTREMELY STRONG - raw power)
- Agility: 0.4x (WEAK - heavy, slow)
- Intelligence: 0.3x (VERY WEAK - beast)
- Vitality: 1.4x (VERY STRONG - thick hide)
- Luck: 0.4x (WEAK)

**Buffs:** +18% STR, +12% VIT  
**Effect:** Berserker Rage (damage amplification)

**Best Use:** Tank DPS, frontline bruiser

---

### 3. WOLF
**Type:** Pack Hunter  
**Description:** Speed and coordination, pack hunting tactics

**Stat Weights:**
- Strength: 1.0x (STRONG - predator)
- Agility: 1.5x (EXTREMELY STRONG - pack hunter)
- Intelligence: 0.7x (Below average - pack tactics)
- Vitality: 0.8x (Above average)
- Luck: 0.6x (Below average)

**Buffs:** +15% AGI, +10% STR  
**Effect:** Pack Hunter (group damage bonus)

**Best Use:** Fast strikes, coordinated attacks

---

### 4. SPIDER
**Type:** Arachnid  
**Description:** Web traps and venom, tactical striker

**Stat Weights:**
- Strength: 0.6x (Below average)
- Agility: 1.4x (VERY STRONG - eight legs)
- Intelligence: 1.1x (STRONG - trap tactics)
- Vitality: 0.5x (WEAK - fragile body)
- Luck: 0.8x (Above average - web luck)

**Buffs:** +13% AGI, +12% INT  
**Effect:** Web Trap (crowd control)

**Best Use:** Tactical positioning, mob control

---

### 5. GOLEM
**Type:** Stone Construct  
**Description:** Extreme defense, slow but indestructible

**Stat Weights:**
- Strength: 1.3x (VERY STRONG - stone fists)
- Agility: 0.2x (EXTREMELY WEAK - slow construct)
- Intelligence: 0.1x (EXTREMELY WEAK - mindless)
- Vitality: 1.9x (EXTREMELY STRONG - stone body)
- Luck: 0.3x (VERY WEAK)

**Buffs:** +25% VIT, +8% STR  
**Effect:** Stone Skin (damage reduction)

**Best Use:** Ultimate tank, damage sponge

---

### 6. WYVERN
**Type:** Flying Beast  
**Description:** Aerial superiority, flying predator

**Stat Weights:**
- Strength: 1.4x (VERY STRONG - claws/bite)
- Agility: 1.6x (EXTREMELY STRONG - aerial)
- Intelligence: 0.6x (Below average - beast)
- Vitality: 1.0x (STRONG - dragon scales)
- Luck: 0.7x (Below average)

**Buffs:** +16% AGI, +14% STR  
**Effect:** Aerial Strike (bonus damage)

**Best Use:** High-speed striker, aerial dominance

---

### 7. SERPENT
**Type:** Snake  
**Description:** Venom and cunning, tactical predator

**Stat Weights:**
- Strength: 0.8x (Above average - constrictor)
- Agility: 1.3x (VERY STRONG - slithering)
- Intelligence: 1.1x (STRONG - cunning predator)
- Vitality: 0.7x (Below average - reptile)
- Luck: 0.9x (Above average - venom luck)

**Buffs:** +14% INT, +12% AGI  
**Effect:** Venom Strike (DOT damage)

**Best Use:** Tactical striker, sustained damage

---

### 8. DRAGON
**Type:** Apex Predator  
**Description:** Supreme in all aspects, legendary power

**Stat Weights:**
- Strength: 1.7x (EXTREMELY STRONG - apex)
- Agility: 1.4x (VERY STRONG - flying)
- Intelligence: 1.5x (VERY STRONG - ancient wisdom)
- Vitality: 1.6x (EXTREMELY STRONG - dragon scales)
- Luck: 1.2x (VERY STRONG - legendary)

**Buffs:** +15% STR, +15% INT, +10% AGI  
**Effect:** Dragon Dominance (all stats boost)

**Best Use:** Ultimate powerhouse, apex shadow

---

## Stat Weight Comparison

| Type | STR | AGI | INT | VIT | LUK | Total Weight |
|------|-----|-----|-----|-----|-----|--------------|
| **Dragon** | 1.7 | 1.4 | 1.5 | 1.6 | 1.2 | **7.4** (Apex) |
| **Golem** | 1.3 | 0.2 | 0.1 | 1.9 | 0.3 | **3.8** (Tank) |
| **Bear** | 1.6 | 0.4 | 0.3 | 1.4 | 0.4 | **4.1** (Bruiser) |
| **Wyvern** | 1.4 | 1.6 | 0.6 | 1.0 | 0.7 | **5.3** (Striker) |
| **Wolf** | 1.0 | 1.5 | 0.7 | 0.8 | 0.6 | **4.6** (Hunter) |
| **Serpent** | 0.8 | 1.3 | 1.1 | 0.7 | 0.9 | **4.8** (Tactical) |
| **Spider** | 0.6 | 1.4 | 1.1 | 0.5 | 0.8 | **4.4** (Controller) |
| **Ant** | 1.1 | 1.2 | 0.4 | 0.9 | 0.5 | **4.1** (Swarm) |

---

## Comparison with Humanoid Shadows

| Type | STR | AGI | INT | VIT | LUK | Category |
|------|-----|-----|-----|-----|-----|----------|
| **Berserker** | 1.8 | 0.7 | 0.1 | 0.4 | 0.5 | Humanoid |
| **Dragon** | 1.7 | 1.4 | 1.5 | 1.6 | 1.2 | Magic Beast |
| **Mage** | 0.15 | 0.5 | 1.6 | 0.4 | 0.6 | Humanoid |
| **Golem** | 1.3 | 0.2 | 0.1 | 1.9 | 0.3 | Magic Beast |
| **Assassin** | 0.7 | 1.7 | 0.5 | 0.3 | 0.8 | Humanoid |
| **Wyvern** | 1.4 | 1.6 | 0.6 | 1.0 | 0.7 | Magic Beast |

**Key Differences:**
- Magic beasts tend to have more balanced stats
- Dragons are the most powerful overall (7.4 total weight)
- Golems are the ultimate tanks (1.9x VIT)
- Humanoids are more specialized (extreme highs/lows)

---

## Extraction Examples

### Example 1: E-Rank Mob in Dungeon
```
User: E-rank hunter
Mob: E-rank mob defeated

Extraction Roll:
  - 40% chance: Magic Beast
    → If beast: Ant, Bear, Wolf, Spider (equal probability)
  - 60% chance: Humanoid
    → If humanoid: Knight, Mage, Assassin, etc.

Result: [E] Ant extracted!
  Base Stats: STR 55, AGI 60, INT 20, VIT 45, LUK 25
  Role: Insect Beast
  Effect: Swarm Tactics
```

### Example 2: SSS-Rank Boss in Dungeon
```
User: S-rank hunter
Boss: SSS-rank boss defeated

Extraction Roll:
  - 40% chance: Magic Beast
    → If beast: Could get DRAGON!
  - 60% chance: Humanoid
    → If humanoid: Knight, Mage, etc.

Result: [SSS] Dragon extracted!
  Base Stats: STR 11,900, AGI 9,800, INT 10,500, VIT 11,200, LUK 8,400
  Role: Apex Predator
  Effect: Dragon Dominance
  LEGENDARY SHADOW!
```

### Example 3: Message-Based Extraction
```
User sends message
ARISE event triggers

Extraction Roll:
  - 0% chance: Magic Beast (NOT FROM DUNGEON!)
  - 100% chance: Humanoid

Result: [E] Knight extracted
  Base Stats: Standard humanoid
  Cannot get magic beasts from messages
```

---

## Strategy Guide

### Building Your Army

#### **For Mob Clearing:**
- Ants (fast, coordinated)
- Wolves (pack tactics)
- Spiders (crowd control)

#### **For Boss Fights:**
- Dragons (ultimate power)
- Wyverns (high damage)
- Bears (sustained DPS)

#### **For Tanking:**
- Golems (extreme VIT)
- Bears (high VIT + STR)

#### **For Tactical Play:**
- Serpents (cunning + venom)
- Spiders (traps + agility)

### Optimal Composition

**Balanced Army (300 shadows):**
- 60% Humanoid (180) - Versatility
- 40% Magic Beast (120) - Power
  - 30 Dragons/Wyverns (elite DPS)
  - 40 Bears/Wolves (frontline)
  - 30 Golems (tanks)
  - 20 Ants/Spiders/Serpents (utility)

**Magic Beast advantages:**
- More balanced stat distributions
- Unique buff effects
- Prestige (dungeon-exclusive)
- Lore accuracy (Solo Leveling)

---

## Lore Integration

### Solo Leveling Canon

**Magic Beasts in the series:**
- Ant soldiers (Jeju Island raid)
- Ice Bears/Yetis (various dungeons)
- Cerberus (multi-headed beast)
- Dragons (S-rank+ dungeons)
- Wyverns (flying monsters)
- Stone Golems (fortress dungeons)

**This system captures:**
- Distinct monster types
- Dungeon-exclusive nature
- Stat variety (not all humanoid)
- Power scaling by beast type

### Differences from Humanoid Shadows

| Aspect | Humanoid | Magic Beast |
|--------|----------|-------------|
| **Source** | Messages + Dungeons | Dungeons ONLY |
| **Specialization** | Extreme | Balanced |
| **Rarity** | Common | Rare (40% in dungeons) |
| **Power** | Role-dependent | Generally stronger |
| **Lore** | Human enemies | Actual monsters |

---

## Technical Implementation

### Role Selection Logic:
```javascript
if (fromDungeon && Math.random() < 0.4) {
  // Select from magic beast roles
  roleKey = randomBeastRole();
} else {
  // Select from humanoid roles
  roleKey = randomHumanoidRole();
}
```

### Flag Propagation:
```
Dungeon Plugin:
  → attemptDungeonExtraction(fromDungeon: true)
    → attemptExtractionWithRetries(fromDungeon: true)
      → generateShadow(fromDungeon: true)
        → Role selection (can be magic beast)

Message Event:
  → handleExtractionBurst(fromDungeon: false)
    → generateShadow(fromDungeon: false)
      → Role selection (humanoid only)
```

---

## Future Expansion

### Potential Additional Beasts:
- Cerberus (multi-headed dog)
- Phoenix (fire bird)
- Hydra (multi-headed serpent)
- Chimera (hybrid beast)
- Basilisk (legendary serpent)
- Behemoth (colossal beast)
- Leviathan (sea monster)

### Potential Features:
- Beast-specific abilities
- Pack synergy bonuses
- Elemental affinities
- Evolution/transformation system
- Special beast-only dungeons

---

**Magic beasts add strategic depth and lore accuracy to your shadow army!**

